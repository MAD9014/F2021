<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Uploading and Receiving Data | MAD9014</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Cross-Platform Application Development">
    
    <link rel="preload" href="/F2021/assets/css/0.styles.edf22390.css" as="style"><link rel="preload" href="/F2021/assets/js/app.c9398e1e.js" as="script"><link rel="preload" href="/F2021/assets/js/2.722d2ab7.js" as="script"><link rel="preload" href="/F2021/assets/js/40.d38d9b85.js" as="script"><link rel="preload" href="/F2021/assets/js/5.5ddacf9e.js" as="script"><link rel="prefetch" href="/F2021/assets/js/10.fe281073.js"><link rel="prefetch" href="/F2021/assets/js/11.80771804.js"><link rel="prefetch" href="/F2021/assets/js/12.123599be.js"><link rel="prefetch" href="/F2021/assets/js/13.d4751fc7.js"><link rel="prefetch" href="/F2021/assets/js/14.1044b9fe.js"><link rel="prefetch" href="/F2021/assets/js/15.4c0438ed.js"><link rel="prefetch" href="/F2021/assets/js/16.c080ec03.js"><link rel="prefetch" href="/F2021/assets/js/17.3d68f372.js"><link rel="prefetch" href="/F2021/assets/js/18.5a9f8284.js"><link rel="prefetch" href="/F2021/assets/js/19.52912262.js"><link rel="prefetch" href="/F2021/assets/js/20.32897e8f.js"><link rel="prefetch" href="/F2021/assets/js/21.c38904ab.js"><link rel="prefetch" href="/F2021/assets/js/22.7f663840.js"><link rel="prefetch" href="/F2021/assets/js/23.6685c934.js"><link rel="prefetch" href="/F2021/assets/js/24.25208c79.js"><link rel="prefetch" href="/F2021/assets/js/25.6ba8cac2.js"><link rel="prefetch" href="/F2021/assets/js/26.116faa08.js"><link rel="prefetch" href="/F2021/assets/js/27.e91c6fc8.js"><link rel="prefetch" href="/F2021/assets/js/28.da25845f.js"><link rel="prefetch" href="/F2021/assets/js/29.e5983596.js"><link rel="prefetch" href="/F2021/assets/js/3.4e437f29.js"><link rel="prefetch" href="/F2021/assets/js/30.f4b24aa8.js"><link rel="prefetch" href="/F2021/assets/js/31.fa2e00d4.js"><link rel="prefetch" href="/F2021/assets/js/32.a20c3468.js"><link rel="prefetch" href="/F2021/assets/js/33.5bc80da8.js"><link rel="prefetch" href="/F2021/assets/js/34.23711095.js"><link rel="prefetch" href="/F2021/assets/js/35.6d846a4b.js"><link rel="prefetch" href="/F2021/assets/js/36.0ad4b18f.js"><link rel="prefetch" href="/F2021/assets/js/37.d1fe62ea.js"><link rel="prefetch" href="/F2021/assets/js/38.9e72b498.js"><link rel="prefetch" href="/F2021/assets/js/39.ac7f5ce9.js"><link rel="prefetch" href="/F2021/assets/js/4.bd2495dc.js"><link rel="prefetch" href="/F2021/assets/js/41.818b718d.js"><link rel="prefetch" href="/F2021/assets/js/42.b66e9879.js"><link rel="prefetch" href="/F2021/assets/js/43.8b8b0d50.js"><link rel="prefetch" href="/F2021/assets/js/44.1edc1d2b.js"><link rel="prefetch" href="/F2021/assets/js/45.0ae0740c.js"><link rel="prefetch" href="/F2021/assets/js/46.b65ad59f.js"><link rel="prefetch" href="/F2021/assets/js/47.f97e7c68.js"><link rel="prefetch" href="/F2021/assets/js/48.eae5614b.js"><link rel="prefetch" href="/F2021/assets/js/49.10e29cd2.js"><link rel="prefetch" href="/F2021/assets/js/50.e6adccad.js"><link rel="prefetch" href="/F2021/assets/js/51.e59d51ec.js"><link rel="prefetch" href="/F2021/assets/js/52.f18e237f.js"><link rel="prefetch" href="/F2021/assets/js/53.4a55f620.js"><link rel="prefetch" href="/F2021/assets/js/54.c9a314fe.js"><link rel="prefetch" href="/F2021/assets/js/55.50770641.js"><link rel="prefetch" href="/F2021/assets/js/56.def7dc91.js"><link rel="prefetch" href="/F2021/assets/js/57.7cb7e16d.js"><link rel="prefetch" href="/F2021/assets/js/58.f598324f.js"><link rel="prefetch" href="/F2021/assets/js/59.723e0aa1.js"><link rel="prefetch" href="/F2021/assets/js/6.c89e87d8.js"><link rel="prefetch" href="/F2021/assets/js/60.885c40c8.js"><link rel="prefetch" href="/F2021/assets/js/61.abad6fc2.js"><link rel="prefetch" href="/F2021/assets/js/62.0b3fff54.js"><link rel="prefetch" href="/F2021/assets/js/63.3a666636.js"><link rel="prefetch" href="/F2021/assets/js/64.442954a4.js"><link rel="prefetch" href="/F2021/assets/js/65.4cd6fd56.js"><link rel="prefetch" href="/F2021/assets/js/66.0900b4dc.js"><link rel="prefetch" href="/F2021/assets/js/67.0bd2e21b.js"><link rel="prefetch" href="/F2021/assets/js/68.50b900d4.js"><link rel="prefetch" href="/F2021/assets/js/69.53d61f27.js"><link rel="prefetch" href="/F2021/assets/js/7.597167ee.js"><link rel="prefetch" href="/F2021/assets/js/70.f91eb371.js"><link rel="prefetch" href="/F2021/assets/js/71.36502603.js"><link rel="prefetch" href="/F2021/assets/js/72.307dccd3.js"><link rel="prefetch" href="/F2021/assets/js/73.b968f443.js"><link rel="prefetch" href="/F2021/assets/js/74.d08c61a2.js"><link rel="prefetch" href="/F2021/assets/js/75.33beabb0.js"><link rel="prefetch" href="/F2021/assets/js/76.5804a80a.js"><link rel="prefetch" href="/F2021/assets/js/77.72fb9f9f.js"><link rel="prefetch" href="/F2021/assets/js/78.2ba8c789.js"><link rel="prefetch" href="/F2021/assets/js/79.6bcbdb7c.js"><link rel="prefetch" href="/F2021/assets/js/8.819e6db3.js"><link rel="prefetch" href="/F2021/assets/js/80.d800714a.js"><link rel="prefetch" href="/F2021/assets/js/81.f34cee97.js"><link rel="prefetch" href="/F2021/assets/js/82.194e75f9.js"><link rel="prefetch" href="/F2021/assets/js/83.078ad484.js"><link rel="prefetch" href="/F2021/assets/js/84.04d65b68.js"><link rel="prefetch" href="/F2021/assets/js/85.9a498331.js"><link rel="prefetch" href="/F2021/assets/js/86.9e8dab2b.js"><link rel="prefetch" href="/F2021/assets/js/87.2e4e5cf2.js"><link rel="prefetch" href="/F2021/assets/js/88.bbc8abcc.js"><link rel="prefetch" href="/F2021/assets/js/89.3a8c6f59.js"><link rel="prefetch" href="/F2021/assets/js/9.ab2e614b.js"><link rel="prefetch" href="/F2021/assets/js/90.50fb8228.js"><link rel="prefetch" href="/F2021/assets/js/91.324f665c.js"><link rel="prefetch" href="/F2021/assets/js/92.29ba6d72.js"><link rel="prefetch" href="/F2021/assets/js/93.84c032b9.js"><link rel="prefetch" href="/F2021/assets/js/94.4c0e19bf.js"><link rel="prefetch" href="/F2021/assets/js/95.45e822ed.js"><link rel="prefetch" href="/F2021/assets/js/96.bf225c4e.js"><link rel="prefetch" href="/F2021/assets/js/97.1343bbc2.js"><link rel="prefetch" href="/F2021/assets/js/98.813004cf.js">
    <link rel="stylesheet" href="/F2021/assets/css/0.styles.edf22390.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/F2021/" class="home-link router-link-active"><!----> <span class="site-name">MAD9014</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/F2021/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2021/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/F2021/modules/week1/" class="nav-link">
  Modules
</a></div><div class="nav-item"><a href="/F2021/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/F2021/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2021/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/F2021/modules/week1/" class="nav-link">
  Modules
</a></div><div class="nav-item"><a href="/F2021/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Content Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/F2021/modules/week1/" class="sidebar-link">Week 1 Getting Started</a></li><li><a href="/F2021/modules/week2/" class="sidebar-link">Week 2 - Conditionals and Functions</a></li><li><a href="/F2021/modules/week3/" class="sidebar-link">Week 3 - Arrays, Strings, Loops, and Dates</a></li><li><a href="/F2021/modules/week4/" class="sidebar-link">Week 4 - Arrays, Math, Errors</a></li><li><a href="/F2021/modules/week5/" class="sidebar-link">Week 5 - DOM and Namespaces</a></li><li><a href="/F2021/modules/week6/" class="sidebar-link">Week 6 - Elements, Attributes, Imports, XML &amp; JSON</a></li><li><a href="/F2021/modules/week7/" class="sidebar-link">Week 7 - Events, Nested Loops, Callbacks and Closures</a></li><li><a href="/F2021/modules/reading/" class="sidebar-link">Reading Week</a></li><li><a href="/F2021/modules/week9/" class="sidebar-link">Week 9 - Events, DOM, &amp;amp; Colours</a></li><li><a href="/F2021/modules/week10/" class="sidebar-link">Week 10 - Promises, Geolocation, Prototypes &amp; Timers</a></li><li><a href="/F2021/modules/week11/" aria-current="page" class="sidebar-link">Week 11- APIs &amp; Fetch</a></li><li><a href="/F2021/modules/week12/" class="sidebar-link">Week 12 - WebStorage, Cookies, &amp; S.P.A.</a></li><li><a href="/F2021/modules/week13/" class="sidebar-link">Week 13 - History API, CSP, Navigation</a></li><li><a href="/F2021/modules/week14/" class="sidebar-link">Week 14 - Advanced Fetch</a></li><li><a href="/F2021/modules/week15/" class="sidebar-link">Week 15 - Final Project</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Deliverables</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="uploading-and-receiving-data"><a href="#uploading-and-receiving-data" class="header-anchor">#</a> Uploading and Receiving Data</h1> <p>There are several ways that we can attach data to a fetch request.</p> <h2 id="request-object"><a href="#request-object" class="header-anchor">#</a> Request Object</h2> <p>When calling the <code>fetch( )</code> method we can either pass in just a URL or a Request Object.</p> <p>To create a <code>Request</code> Object we would use the <code>new Request( )</code> constructor. The most basic example, using all default properties is:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> req <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You can also optionally add an init object with values for the various properties of the Request.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> req <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> body<span class="token operator">:</span> myFormData <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The properties of the Request can include:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>method: 'GET', 'POST', 'PUT', 'DELETE' or 'HEAD'
headers: a Headers object
mode: 'cors' or 'no-cors' (Cross-Origin Resource Sharing), or 'same-origin'.
cache: 'default', 'no-store', 'reload', 'no-cache', or 'force-cache' - the cache mode to use for the request.
body: The data to be sent with a request that is using method: 'POST'. This property can be a Blob, a USVString, an Array Buffer, a FormData object, or a URLSearchParams object. FormData and Blob are the most common to use.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Request" target="_blank" rel="noopener noreferrer">MDN Request Object reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="querystrings"><a href="#querystrings" class="header-anchor">#</a> QueryStrings</h2> <p>The QueryString is part of the URL that we would pass to the server. It begins with a question mark.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://www.example.com/folder/file.php?keyword=CSS&amp;limit=50
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Above is an example URL that includes a querystring. It starts with a <code>?</code> and then is followed by two name value pairs. The name and value of each property is an equal sign. Between each name-value pair is an ampersand.</p> <p>This is the simpliest way to pass values. This approach is available for any of the request methods - POST, GET, DELETE, etc. The querystring is actually one of the headers. (see below for more details on headers).</p> <h2 id="the-formdata-object"><a href="#the-formdata-object" class="header-anchor">#</a> The FormData Object</h2> <p>When making AJAX calls to an API, we often need to send additional data as part of the request. The data we send can take many forms, including querystrings or form data.</p> <p>QueryStrings can always be passed as part of the URL and just handled as a String. Data that you gather can also be packaged inside a FormData object.</p> <p>When you want to send data to your API call packaged in either a QueryString then you will likely use the GET method. If you use a FormData object then we MUST use the POST method. If you keep the querystring as a String and just part of the URL then we can use the GET method or the POST method.</p> <p>The FormData object stores data as name - value pairs.</p> <p>Let's start with a name and email address pulled from a web form.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> name <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token keyword">let</span> email <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'email'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Then we store the data in one of the following ways.</p> <p>In a FormData object:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> form <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
form<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
form<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'email'</span><span class="token punctuation">,</span> email<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Then we place the data in a Request object and send it with our fetch call:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">&quot;http://www.example.com/&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> req <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span>
    body<span class="token operator">:</span> form
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">fetch</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> <span class="token parameter">data</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//data is our JSON object back from our request</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div title="" class="video-player"><iframe width="560" height="315" src="https://youtube.com/embed/gL8M9Sl5QLs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="headers"><a href="#headers" class="header-anchor">#</a> Headers</h2> <p>The Header Object represents all the HTTP headers in both the Request and the Response.</p> <p>It can be passed as a value to the Request init property:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> myHeaders <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myHeaders<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'Accept'</span><span class="token punctuation">,</span> <span class="token string">'image/jpeg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">'someImage.jpg'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> req <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> headers<span class="token operator">:</span> myHeaders <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>It is important to keep in mind that while you can create your own headers, there is a list of headers which are read-only and the browsers will not allow you to set values for them.</p> <p><a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name" target="_blank" rel="noopener noreferrer">List of Forbidden Header names<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Headers" target="_blank" rel="noopener noreferrer">MDN Headers Object reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="body-object"><a href="#body-object" class="header-anchor">#</a> Body Object</h2> <p>When using the POST method, all the data that is not in the <code>Header</code> will be inside the <code>Body</code> object. FormData is one way of adding content to the body. However, you can also put raw data in the <code>Body</code>.</p> <p>Use the network tab in the Chrome Dev tools to investigate the data being sent through the Body with any request.</p> <p>When a response comes back from the Server, it will most likely contain data inside the <code>Body</code> of the <code>Response</code>. The <code>Body</code> has several methods that allow us to extract the expected content from the body.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Body<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//used to extract the JSON representation from a JSON file in the response</span>

Body<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//used to extract the string version of an XML, HTML, or other text file.</span>

Body<span class="token punctuation">.</span><span class="token function">blob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//used to extract the image from the response body</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="response-object"><a href="#response-object" class="header-anchor">#</a> Response Object</h2> <p>When your fetch Request returns from the Server you will have a <code>Response</code> object. It is the last part of the fetch process is handling the Response. Just like the Request, it can contain Headers as well as the Body.</p> <p>When you call the <code>fetch</code> method, the first <code>then( )</code> function will receive the <code>Request</code> object as it's only parameter. From that function you can call the <code>json( )</code>, <code>blob( )</code>, or <code>text( )</code> method to extract the desired data from the Response Body.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//extract the JSON Object from the returned file</span>
    <span class="token keyword">return</span> resp<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//the variable data will contain the JSON data from the returned file.</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//handle any errors</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>In the example, above, the variable <code>resp</code> is a <code>Response</code> object. Here are the methods that you would call in that first <code>then( )</code> function.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//if your returned file was a .json file.</span>

Response<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//if you were expecting HTML, XML, text, or CSV</span>

Response<span class="token punctuation">.</span><span class="token function">blob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//if you were expecting a binary file like an image, video, or audio.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The <code>data</code> variable in the second <code>then()</code> is the result of calling the <code>json()</code> method. These three methods are actually being inherited from the <code>Body</code> object.</p> <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Response" target="_blank" rel="noopener noreferrer">MDN Response Object reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p><a href="/F2021/modules/week11/" class="router-link-active">Back to Week main page</a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/17/2021, 6:37:14 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/F2021/assets/js/app.c9398e1e.js" defer></script><script src="/F2021/assets/js/2.722d2ab7.js" defer></script><script src="/F2021/assets/js/40.d38d9b85.js" defer></script><script src="/F2021/assets/js/5.5ddacf9e.js" defer></script>
  </body>
</html>
