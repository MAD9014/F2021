(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{426:function(e,t,a){"use strict";a.r(t);var s=a(28),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"web-storage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-storage"}},[e._v("#")]),e._v(" Web Storage")]),e._v(" "),a("h2",{attrs:{id:"local-storage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#local-storage"}},[e._v("#")]),e._v(" Local Storage")]),e._v(" "),a("p",[e._v("Each browser has the ability to save some data on behalf of each domain that the user visits. There is a maximum amount of memory allocated to each domain, which varies depending on the browser. When the maximum amount for the domain or the browser as a whole is reached then it is up to the browser what will be deleted.")]),e._v(" "),a("p",[a("code",[e._v("localStorage")]),e._v(" is a high level object inside "),a("code",[e._v("window")]),e._v(", just like "),a("code",[e._v("document")]),e._v(" and "),a("code",[e._v("navigator")]),e._v(".")]),e._v(" "),a("p",[e._v("All the data that gets saved must be something that can be represented as a String. that is because it saves the data as a "),a("code",[e._v("JSON")]),e._v(" String.")]),e._v(" "),a("p",[e._v("Each "),a("code",[e._v("JSON")]),e._v(" String will be stored under a key. The "),a("code",[e._v("key")]),e._v(" must be a string name, just like the properties in any normal JavaScript Object. Each key's value can be a single primitive value or it can be a complex combination of Arrays and Objects which have been converted into a "),a("code",[e._v("JSON")]),e._v(" String. Each "),a("code",[e._v("key")]),e._v(" must be unique for that domain.")]),e._v(" "),a("blockquote",[a("p",[a("strong",[e._v("REMEMBER")]),e._v(" that "),a("code",[e._v("localhost")]),e._v(" is a domain shared by every website you will ever test.")])]),e._v(" "),a("p",[e._v("To retrieve data from "),a("code",[e._v("localStorage")]),e._v(" we call the "),a("code",[e._v("getItem(key)")]),e._v(" method. We must provide the name of the key to retrieve. If the key does not exist then "),a("code",[e._v("null")]),e._v(" is returned. Always check for a valid returned value.")]),e._v(" "),a("p",[e._v("The value that is returned from "),a("code",[e._v("getItem")]),e._v(" must be converted from a String into an Object with the "),a("code",[e._v("JSON.parse()")]),e._v(" method.")]),e._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("let")]),e._v(" myData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("let")]),e._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'highscores'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("let")]),e._v(" dataStr "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("dataStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  myData "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[e._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("dataStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("p",[e._v("When you want to create or update the value of some key in "),a("code",[e._v("localStorage")]),e._v(" you "),a("strong",[e._v("MUST")]),e._v(" overwrite the old value with an entirely new value.")]),e._v(" "),a("p",[e._v("The method we would use for the add or update is "),a("code",[e._v("setItem(key, val)")]),e._v(". It needs a key and the new value that will replace the old one.")]),e._v(" "),a("p",[e._v("Before we send the new data to "),a("code",[e._v("localStorage")]),e._v(" it must be converted into a JSON String with the "),a("code",[e._v("JSON.stringify")]),e._v(" method.")]),e._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[e._v("myData "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'new'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'or'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'updated'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'array'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\ndataStr "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[e._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("myData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nlocalStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" dataStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("blockquote",[a("p",[a("strong",[e._v("REMEMBER")]),e._v(" all the data going in and out of webstorage must be a String.")])]),e._v(" "),a("YouTube",{attrs:{title:"local and session storage",url:"https://www.youtube.com/embed/hOCYNdgsUfs"}}),e._v(" "),a("p",[e._v("If you want to empty everything in Web Storage for a domain, use the "),a("code",[e._v("localStorage.clear()")]),e._v(" method.")]),e._v(" "),a("p",[e._v("If you want to delete a single key's value in Web Storage then we would use the "),a("code",[e._v("localStorage.removeItem(key)")]),e._v(" method.")]),e._v(" "),a("p",[e._v("There is only one property in "),a("code",[e._v("localStorage")]),e._v(" - "),a("code",[e._v(".length")]),e._v(". It will tell you how many keys exist for the current domain.")]),e._v(" "),a("p",[e._v("The last method that exists for Web Storage is the "),a("code",[e._v("localStorage.key(n)")]),e._v(" method. It accepts a numeric index number and returns the name of the "),a("code",[e._v("key")]),e._v(" at that position in web storage.")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage",target:"_blank",rel:"noopener noreferrer"}},[e._v("MDN Reference for LocalStorage"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage",target:"_blank",rel:"noopener noreferrer"}},[e._v("MDN Reference for SessionStorage"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API",target:"_blank",rel:"noopener noreferrer"}},[e._v("MDN guide to WebStorage"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"session-storage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#session-storage"}},[e._v("#")]),e._v(" Session Storage")]),e._v(" "),a("p",[e._v("Session Storage has the exact same methods and properties and abilities as "),a("code",[e._v("localStorage")]),e._v(". The difference is that when the browser tab is closed or the browser is shut down then all the stored data is marked for deletion.")]),e._v(" "),a("p",[e._v("When it comes to the methods in "),a("code",[e._v("sessionStorage")]),e._v(", they are the same as the "),a("code",[e._v("localStorage")]),e._v(" ones. Just replace "),a("code",[e._v("local")]),e._v(" with "),a("code",[e._v("session")]),e._v(" and they will all work.")]),e._v(" "),a("p",[a("RouterLink",{attrs:{to:"/modules/week12/"}},[e._v("Back to week main page")])],1)],1)}),[],!1,null,null,null);t.default=n.exports}}]);