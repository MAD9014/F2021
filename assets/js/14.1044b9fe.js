(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{376:function(t,e,s){t.exports=s.p+"assets/img/csp-screenshot.0cc9faa3.png"},427:function(t,e,s){"use strict";s.r(e);var a=s(28),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"content-security-policy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#content-security-policy"}},[t._v("#")]),t._v(" Content Security Policy")]),t._v(" "),a("p",[t._v("There is a "),a("code",[t._v("meta")]),t._v(" tag that you should put into ALL your websites and web apps and hybrid apps. It is a security feature to protect your users.")]),t._v(" "),a("p",[t._v("It has the "),a("code",[t._v("http-equiv")]),t._v(" attribute set to "),a("code",[t._v("Content-Security-Policy")]),t._v(" and then a "),a("code",[t._v("content")]),t._v(" attribute with all the possible values of where the browser is allowed to load different types of resources from.")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Content-Security-Policy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("default-src https: ;"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("The value inside "),a("code",[t._v("content")]),t._v(" is broken up into different categories like "),a("code",[t._v("default-src")]),t._v(", "),a("code",[t._v("img-src")]),t._v(", "),a("code",[t._v("style-src")]),t._v(", "),a("code",[t._v("font-src")]),t._v(", "),a("code",[t._v("media-src")]),t._v(", and "),a("code",[t._v("connect-src")]),t._v(". After each category name you put one or more values for allowed sources for that type of content. After each source list you put a semi-colon.")]),t._v(" "),a("p",[t._v("See the CSP website for the full list of categories and values.\n"),a("a",{attrs:{href:"https://content-security-policy.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSP website official reference"),a("OutboundLink")],1)]),t._v(" "),a("YouTube",{attrs:{title:"csp intro",url:"https://www.youtube.com/embed/1-sx4AmjGCI"}}),t._v(" "),a("p",[t._v("You should put this "),a("code",[t._v("meta")]),t._v(" tag into EVERY webpage you build.")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN CSP reference"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.owasp.org/index.php/Content_Security_Policy_Cheat_Sheet",target:"_blank",rel:"noopener noreferrer"}},[t._v("OWASP CSP cheatsheet"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://hacks.mozilla.org/2016/02/implementing-content-security-policy/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mozilla Hacks guide to CSP"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("When things go wrong with your Content-Security-Policy you will see notifications in the JavaScript console in the browser.")]),t._v(" "),a("p",[a("img",{attrs:{src:s(376),alt:"CSP screenshot"}})]),t._v(" "),a("p",[t._v("In this screenshot it is saying that it cannot load the stylesheet because the "),a("code",[t._v("style-src")]),t._v(" is set to "),a("code",[t._v('"none"')]),t._v(".")]),t._v(" "),a("p",[t._v("When you run into problems with the CSP, you should just respond to each error separately by adding a new category or updating a category to include a specific location. While you can just put everything into default and accept anything this defeats the purpose and provides no security for your users.")]),t._v(" "),a("h2",{attrs:{id:"using-the-script-integrity-attribute"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-the-script-integrity-attribute"}},[t._v("#")]),t._v(" Using the Script integrity Attribute")]),t._v(" "),a("p",[t._v("With "),a("code",[t._v("script")]),t._v(" tags, we can add an integrity attribute which helps protect our users further. This attribute value also needs to be added to your CSP tag.")]),t._v(" "),a("YouTube",{attrs:{title:"script integrity",url:"https://www.youtube.com/embed/5a3LthQ2xCI"}}),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/modules/week13/"}},[t._v("Back to Week main page")])],1)],1)}),[],!1,null,null,null);e.default=r.exports}}]);